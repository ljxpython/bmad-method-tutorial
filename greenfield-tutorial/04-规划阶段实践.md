# 第四部分：规划阶段实践

## 🎯 本章目标

学完本章后，你将：
- 🌐 熟练使用Web UI代理进行项目规划
- 📊 完成从市场分析到架构设计的完整流程
- 📋 获得专业级的PRD和架构文档
- 🤝 体验代理协作的工作模式

## ⚠️ 重要提醒

**本章需要实际操作！**
- 打开你在第二章配置的Web UI代理（Gemini/Claude/ChatGPT）
- 准备2-3小时的时间
- 边学习边实践，不要只看不做

## 🌐 第一步：启动Web UI代理

### 打开你的代理平台
根据你在第二章的选择：
- **Gemini用户**：打开你创建的Gem
- **Claude用户**：打开你创建的Project
- **ChatGPT用户**：打开你创建的Custom GPT

### 验证代理响应
在对话框中输入：
```
*help
```

**期望输出**：
```
# BMAD Method - Available Agents & Commands

## Core Planning Agents
- *analyst - Market research and business analysis
- *pm - Product management and PRD creation  
- *architect - System architecture and technical design

## Development Agents  
- *sm - Scrum Master for story creation
- *dev - Developer for implementation
- *qa - Quality Assurance and testing

## Special Agents
- *bmad-orchestrator - Get guidance on BMad workflow
- *bmad-master - Advanced project management
```

如果没有看到这个输出，请返回第二章重新配置。

## 🧭 第二步：咨询BMad Orchestrator

在开始项目之前，先了解最佳实践：

```
*bmad-orchestrator

我想创建一个待办事项管理应用，这是我第一次使用BMAD-METHOD。请指导我应该从哪个代理开始，以及整个流程的最佳实践。
```

**Orchestrator会为你提供**：
- 🗺️ 完整工作流程指导
- 📋 代理使用顺序建议
- ⚠️ 常见陷阱提醒
- 💡 最佳实践建议

## 🔍 第三步：分析师 - 市场调研

### 启动分析师代理
```
*analyst
```

等待分析师响应后，提供项目信息：

```
我想创建一个名为"TodoMaster"的智能待办事项管理应用。

项目背景：
- 目标用户：学生、职场人士、小团队
- 核心痛点：现有应用功能简单，缺乏智能分类和团队协作
- 期望特色：智能提醒、优先级管理、简洁易用

请帮我进行市场调研和用户分析。
```

### 分析师工作流程
分析师会引导你完成：

1. **市场现状分析**
   - 竞品分析（Todoist、Any.do、Microsoft To Do等）
   - 市场机会识别
   - 用户痛点总结

2. **用户研究**
   - 目标用户画像细化
   - 用户需求优先级排序
   - 使用场景分析

3. **功能建议**
   - MVP功能确定
   - 创新功能提案
   - 技术可行性评估

### 与分析师的对话示例

**分析师**：*"让我来分析待办事项应用市场...基于我的分析，我发现几个关键机会..."*

**你的回应**：提供更多细节和偏好
```
感谢分析！我特别关注以下几点：
1. 目标用户主要是中国用户，需要考虑本土化
2. 希望界面简洁，不要过于复杂
3. 重点关注个人效率，团队协作是加分项
4. 希望有一些智能化功能，但不要过度复杂

请基于这些补充信息调整你的建议。
```

### 期望产出
分析师完成后，你应该获得：
- 📊 **市场分析报告**
- 👥 **用户画像定义**
- 🎯 **产品定位建议**
- 💡 **创新功能提案**

## 📋 第四步：产品经理 - 创建PRD

### 切换到PM代理
```
*pm
```

### 向PM提供上下文
```
基于刚才分析师的调研结果，请为TodoMaster待办事项应用创建详细的产品需求文档(PRD)。

项目概述：
- 产品名称：TodoMaster
- 目标用户：学生、职场人士、个人用户
- 核心价值：简洁易用的智能任务管理

请基于分析师的建议，创建完整的PRD文档。
```

### PM工作流程
PM会与你协作完成：

1. **产品概述**
   - 产品愿景和目标
   - 成功指标定义
   - 项目约束条件

2. **功能需求**
   - 用户故事编写
   - 功能优先级排序
   - 验收标准定义

3. **非功能需求**
   - 性能要求
   - 安全要求
   - 可用性要求

4. **项目规划**
   - 开发阶段划分
   - 时间线估算
   - 资源需求

### 与PM的对话示例

**PM**：*"我来为你创建PRD...让我确认一些关键需求..."*

**你需要回答的问题**：
- 优先级最高的3个功能是什么？
- 有什么技术约束或偏好？
- 项目时间线期望？
- 用户体验的重点关注？

**示例回答**：
```
优先级排序：
1. 基础任务管理（创建、编辑、删除、完成）
2. 任务分类和筛选
3. 用户注册登录

技术偏好：
- 前端：React + TypeScript
- 后端：Node.js + Express
- 数据库：SQLite（开发）+ PostgreSQL（生产）

时间线：希望2周内完成MVP版本

用户体验：界面简洁，操作直观，响应快速
```

### 期望产出
PM完成后，你应该获得：
- 📋 **完整PRD文档**
- 📊 **功能优先级矩阵**
- 🎯 **用户故事集合**
- 📅 **项目时间线**

## 🏗️ 第五步：架构师 - 系统设计

### 切换到架构师代理
```
*architect
```

### 向架构师提供PRD
```
基于刚才PM创建的PRD，请为TodoMaster应用设计完整的系统架构。

请特别关注：
1. 技术栈选择和理由
2. 数据库设计
3. API架构
4. 前端组件结构
5. 安全考虑
6. 可扩展性设计

我的技术偏好：[这里引用你在环境搭建时设置的技术偏好]
```

### 架构师工作流程
架构师会为你设计：

1. **整体架构**
   - 系统分层设计
   - 技术栈选择理由
   - 部署架构规划

2. **数据设计**
   - 数据库选型
   - 表结构设计
   - 数据关系定义

3. **API设计**
   - RESTful API规范
   - 端点定义
   - 请求/响应格式

4. **前端架构**
   - 组件结构设计
   - 状态管理方案
   - 路由规划

5. **安全架构**
   - 认证机制
   - 授权策略
   - 数据保护

### 与架构师的对话示例

**架构师**：*"基于PRD，我推荐以下技术架构...让我解释选择理由..."*

**你可能需要确认**：
- 技术栈是否符合你的能力和偏好？
- 架构复杂度是否适合项目规模？
- 有没有考虑到未来扩展需求？

**示例确认**：
```
架构设计很详细！我有几个问题：

1. 为什么选择PostgreSQL而不是MongoDB？
2. JWT认证的安全性如何保证？
3. 前端状态管理为什么选择Zustand而不是Redux？
4. 这个架构支持多少并发用户？

请详细解释这些技术决策的理由。
```

### 期望产出
架构师完成后，你应该获得：
- 🏗️ **系统架构文档**
- 🗃️ **数据库设计**
- 🔌 **API规范文档**
- 🎨 **前端架构设计**
- 🛡️ **安全架构方案**

## 📁 第六步：保存规划文档

### 创建本地文档
规划阶段完成后，将所有文档保存到项目目录：

```bash
# 切换到项目目录
cd my-todo-app

# 创建文档目录结构
mkdir -p docs/{analysis,planning,architecture}

# 将以下文档从Web UI复制到本地文件：
# docs/analysis/market-research.md        # 分析师输出
# docs/planning/prd.md                    # PM输出  
# docs/architecture/system-design.md     # 架构师输出
```

### 文档检查清单
确保你拥有以下文档：

#### 市场分析文档
- [ ] 竞品分析
- [ ] 用户画像
- [ ] 市场机会
- [ ] 功能建议

#### PRD文档
- [ ] 产品概述
- [ ] 用户故事
- [ ] 功能需求
- [ ] 非功能需求
- [ ] 项目时间线

#### 架构文档
- [ ] 技术栈选择
- [ ] 系统架构图
- [ ] 数据库设计
- [ ] API规范
- [ ] 安全设计

## 🔄 第七步：规划评审（可选）

### 使用BMad Master进行评审
```
*bmad-master

我已经完成了TodoMaster项目的规划阶段，包括市场分析、PRD和系统架构。请帮我评审这些文档，确保：
1. 文档完整性和一致性
2. 技术方案的可行性
3. 项目范围的合理性
4. 是否遗漏了重要内容

[这里粘贴你的主要文档内容]
```

### BMad Master评审内容
- ✅ **文档质量检查**
- ⚖️ **技术决策评估**
- 🎯 **项目范围建议**
- ⚠️ **风险识别**
- 📈 **改进建议**

## 🎯 第八步：规划阶段总结

### 成果检验
完成规划阶段后，你应该：

#### 知识收获
- ✅ 体验了专业的产品规划流程
- ✅ 了解了市场分析的重要性
- ✅ 学会了如何编写PRD
- ✅ 掌握了系统架构设计思路

#### 文档产出
- ✅ 详细的市场分析报告
- ✅ 完整的产品需求文档
- ✅ 专业的系统架构设计
- ✅ 清晰的项目实施计划

#### 工作流程体验
- ✅ 理解了代理协作模式
- ✅ 体验了人机协作规划
- ✅ 学会了如何与专业代理对话
- ✅ 掌握了文档驱动开发方法

### 时间统计
记录你在规划阶段花费的时间：
- 分析师对话：_____ 分钟
- PM创建PRD：_____ 分钟
- 架构师设计：_____ 分钟
- 文档整理：_____ 分钟
- **总计**：_____ 小时

## 🚨 常见问题处理

### 代理回复不满意
**问题**：代理的回复过于简单或不符合期望
**解决**：
```
你的回复还需要更详细一些。请在以下方面补充：
1. [具体需要补充的内容]
2. [期望的详细程度]
3. [参考标准或示例]

请重新生成更完整的回复。
```

### 技术选型有争议
**问题**：架构师推荐的技术栈不符合你的偏好
**解决**：
```
我理解你的技术选择理由，但我更偏好使用[你的偏好技术]，原因是：
1. [你的理由1]
2. [你的理由2]

请基于我的偏好重新设计架构，或者解释为什么你的选择更适合这个项目。
```

### 文档过于复杂
**问题**：生成的文档过于复杂，超出项目需求
**解决**：
```
这个文档很专业，但对于我们的MVP项目来说有些过度设计。请简化到：
1. 保留核心功能设计
2. 简化非核心特性
3. 适合1-2周开发周期

请重新生成简化版本。
```

## ✅ 完成检查

在进入下一阶段前，确认以下内容：

### 文档完整性
- [ ] 市场分析文档已保存
- [ ] PRD文档已保存
- [ ] 架构文档已保存
- [ ] 所有文档内容详细且专业

### 理解程度
- [ ] 我理解了项目的用户需求
- [ ] 我清楚要实现的功能
- [ ] 我明白技术架构设计
- [ ] 我知道下一步该做什么

### 准备状态
- [ ] 我对规划结果满意
- [ ] 我准备好进入开发阶段
- [ ] 我理解了BMAD规划的价值
- [ ] 我已经安装了IDE开发环境

## ✅ 完成标记

学完本章后，请在主README.md中勾选：
- [ ] 04-规划阶段实践 - 掌握Web UI代理协作

## 🚀 下一步

恭喜完成规划阶段！现在你拥有了专业级的项目规划文档。

是时候切换到IDE，开始真正的代码开发了！

**[点击这里进入 05-开发阶段实践.md →](05-开发阶段实践.md)**

---

*💡 提示：规划阶段是BMAD-METHOD的核心优势所在。通过专业代理的协作，你获得的不仅仅是文档，更重要的是专业的产品思维和架构设计能力。在开发阶段，这些文档将成为你的重要指引。*