# 开发故事模板

## 基础故事模板

```markdown
# Story [编号]: [故事标题]

## 📋 故事描述
作为 [用户角色]，我需要 [功能需求]，以便 [业务价值]。

## ✅ 验收标准
- [ ] [验收标准1 - 具体可测试的条件]
- [ ] [验收标准2 - 具体可测试的条件] 
- [ ] [验收标准3 - 具体可测试的条件]
- [ ] [验收标准4 - 具体可测试的条件]

## 🔧 技术实现指导
### 后端实现
- [具体的后端实现要求]
- [API端点设计]
- [数据模型要求]

### 前端实现  
- [UI组件要求]
- [用户交互设计]
- [状态管理要求]

### 数据库变更
- [数据库表结构变更]
- [数据迁移脚本]
- [索引优化]

## 📁 文件清单
### 新增文件
- `[路径/文件名]` - [文件用途说明]
- `[路径/文件名]` - [文件用途说明]

### 修改文件
- `[路径/文件名]` - [修改内容说明]
- `[路径/文件名]` - [修改内容说明]

## 🔗 依赖关系
### 前置依赖
- [必须先完成的故事或任务]

### 后续影响
- [这个故事完成后可以开始的工作]

## 🧪 测试要求
### 单元测试
- [需要测试的函数或方法]
- [测试覆盖率要求]

### 集成测试  
- [API端点测试]
- [数据库集成测试]

### 用户测试
- [关键用户路径测试]
- [边界条件测试]

## 📊 完成标准
- [ ] 所有验收标准满足
- [ ] 代码通过单元测试
- [ ] 集成测试通过
- [ ] 代码审查通过
- [ ] 文档更新完成

## 🎯 完成信息
**状态**: [待开始/进行中/已完成]
**分配给**: [开发者姓名]
**预估工作量**: [X小时/天]
**实际工作量**: [X小时/天]
**开始日期**: [YYYY-MM-DD]
**完成日期**: [YYYY-MM-DD]

## 📝 开发记录
### 实现笔记
[开发过程中的重要决策和注意事项]

### 遇到的问题
[开发过程中遇到的技术问题和解决方案]

### QA反馈
[QA检查的结果和改进建议]
```

## 特定类型故事模板

### 1. 基础架构故事模板

```markdown
# Story: [基础架构任务]

## 📋 故事描述
搭建 [具体的基础设施或架构组件]，为后续功能开发提供基础支持。

## ✅ 验收标准
- [ ] [架构组件]正常启动和运行
- [ ] 基本配置文件创建完成
- [ ] 健康检查端点工作正常
- [ ] 开发环境配置文档完成
- [ ] 基础测试框架搭建完成

## 🔧 技术实现指导
### 项目结构
```
project/
├── src/
├── tests/
├── docs/
├── config/
└── scripts/
```

### 配置要求
- 环境变量管理
- 日志配置
- 错误处理中间件

## 📁 关键文件
- `package.json` - 项目依赖
- `[配置文件]` - 应用配置
- `[启动文件]` - 应用入口
```

### 2. API开发故事模板

```markdown
# Story: [API功能名称]

## 📋 故事描述
作为前端开发者，我需要 [API功能]，以便在用户界面中 [具体用途]。

## ✅ 验收标准
- [ ] API端点响应正确的HTTP状态码
- [ ] 返回数据格式符合规范
- [ ] 输入验证工作正常
- [ ] 错误处理返回有意义的错误信息
- [ ] API文档更新完成

## 🔧 API规范
### 端点定义
```
POST   /api/[resource]         - 创建资源
GET    /api/[resource]         - 获取资源列表  
GET    /api/[resource]/:id     - 获取单个资源
PUT    /api/[resource]/:id     - 更新资源
DELETE /api/[resource]/:id     - 删除资源
```

### 请求/响应格式
```json
// 请求示例
{
  "field1": "value1",
  "field2": "value2"
}

// 响应示例  
{
  "success": true,
  "data": {},
  "message": "操作成功"
}
```

## 🧪 测试要求
- [ ] 正常情况测试
- [ ] 边界条件测试
- [ ] 错误情况测试
- [ ] 权限验证测试
```

### 3. 前端功能故事模板

```markdown
# Story: [前端功能名称]

## 📋 故事描述
作为用户，我需要能够 [功能描述]，以便 [用户价值]。

## ✅ 验收标准
- [ ] 页面/组件正确渲染
- [ ] 用户交互响应正常
- [ ] 数据正确显示和更新
- [ ] 响应式设计在不同设备上工作
- [ ] 加载状态和错误状态处理正确

## 🎨 UI/UX要求
### 设计规范
- [颜色方案]
- [字体和大小]
- [间距和布局]
- [交互动画]

### 响应式要求
- 移动设备 (< 768px)
- 平板设备 (768px - 1024px)  
- 桌面设备 (> 1024px)

## 🔧 技术实现
### 组件结构
```jsx
// 组件基本结构
const ComponentName = () => {
  // 状态管理
  // 事件处理
  // 副作用
  
  return (
    // JSX结构
  );
};
```

### 状态管理
- [本地状态/全局状态]
- [状态更新逻辑]

## 🧪 测试要求
- [ ] 组件渲染测试
- [ ] 用户交互测试
- [ ] 状态更新测试
- [ ] 错误边界测试
```

### 4. 数据库故事模板

```markdown
# Story: [数据库功能]

## 📋 故事描述
实现 [数据库相关功能]，支持 [具体业务需求]。

## ✅ 验收标准
- [ ] 数据表结构创建正确
- [ ] 索引配置优化查询性能
- [ ] 数据迁移脚本测试通过
- [ ] CRUD操作功能正常
- [ ] 数据约束和验证工作

## 🗃️ 数据库设计
### 表结构
```sql
CREATE TABLE table_name (
  id SERIAL PRIMARY KEY,
  field1 VARCHAR(255) NOT NULL,
  field2 TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### 索引设计
```sql
CREATE INDEX idx_table_field ON table_name(field1);
```

### 关系设计
- [表间关系说明]
- [外键约束]

## 📊 性能要求
- 查询响应时间 < [时间要求]
- 支持并发用户数: [数量]
- 数据量支持: [预期数据规模]
```

## 使用说明

1. **选择合适的模板**: 根据故事类型选择对应模板
2. **填写具体内容**: 将模板中的占位符替换为实际内容
3. **调整细节**: 根据项目特点调整模板结构
4. **保持一致性**: 团队使用统一的故事格式

## 最佳实践

### 故事编写原则
- **INVEST原则**: Independent, Negotiable, Valuable, Estimable, Small, Testable
- **用户视角**: 从用户价值角度描述功能
- **可测试性**: 验收标准应该具体可测试
- **适当粒度**: 故事大小适合1-3天完成

### 验收标准编写
- 使用"Given-When-Then"格式
- 避免技术实现细节
- 关注用户可见的行为
- 包含边界条件和错误情况

### 技术实现指导
- 提供足够的技术上下文
- 参考架构文档和编码规范
- 考虑与现有代码的集成
- 明确性能和安全要求